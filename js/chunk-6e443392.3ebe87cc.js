(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e443392"],{1158:function(t,s,a){"use strict";var e=a("d303"),n=a.n(e);n.a},9989:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return t.hasStats?a("div",{staticClass:"section"},[a("div",{staticClass:"container"},[a("AdSpot",{attrs:{"ad-slot":"status-top"}}),a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("div",{staticClass:"box hover"},[a("h1",{staticClass:"title is-size-3 has-text-white"},[t._v("Arcane Overview")]),a("h1",{staticClass:"subtitle has-text-white-ter"},[t._v("Servers: "+t._s(t.stats.arcane.guilds.toLocaleString())+" "),a("br"),t._v(" Users: "+t._s(t.stats.arcane.estimatedTotalUsers.toLocaleString())+" "),a("br"),t._v(" Shards: "+t._s(t.stats.arcane.shards.filter((function(t){return"ready"===t.status})).length)+"/"+t._s(t.stats.arcane.MAX_SHARDS)+" online ")])])]),a("div",{staticClass:"column"},[a("div",{staticClass:"box hover"},[a("h1",{staticClass:"title is-size-3 has-text-white"},[t._v("Premium Overview")]),a("h1",{staticClass:"subtitle has-text-white-ter"},[t._v("Servers: "+t._s(t.stats.patreon.guilds.toLocaleString())+" "),a("br"),t._v(" Users: "+t._s(t.stats.patreon.estimatedTotalUsers.toLocaleString())+" "),a("br"),t._v(" Shards: "+t._s(t.stats.patreon.shards.filter((function(t){return"ready"===t.status})).length)+"/"+t._s(t.stats.patreon.MAX_SHARDS)+" online ")])])])]),a("h1",{staticClass:"title has-text-white is-size-4",staticStyle:{"padding-left":"5px","margin-bottom":"5px"}},[t._v("Services")]),a("div",{staticClass:"cluster-grid"},t._l(t.services,(function(s,e){return a("div",{key:e,staticClass:"service",attrs:{"data-tooltip":"Latency: "+s.latency+"ms"+("youtube"===s.id?"\nNote: Videos are slow to post or may fail to post":"")}},[s.latency>200||"youtube"===s.id?a("p",{staticClass:"shard-connecting"},[t._v(" "+t._s(s.name.substring(0,1).toUpperCase()+s.name.substring(1,s.length))+" ")]):a("p",{class:200!==s.status?"shard-offline":""},[t._v(" "+t._s(s.name.substring(0,1).toUpperCase()+s.name.substring(1,s.length))+" ")])])})),0),a("h1",{staticClass:"title has-text-white is-size-4",staticStyle:{"padding-left":"5px","margin-bottom":"5px","margin-top":"15px"}},[t._v("Shards")]),a("div",{staticClass:"cluster-grid"},t._l(t.stats.arcane.shards,(function(s){return a("div",{key:s.id,staticClass:"shard-online",class:t.calcGuilds(s.id).length>0?t.cssClass(s):"",attrs:{"data-tooltip":"Status: "+s.status+"\nPing: "+(s.latency||"n/a")+"ms\nServers: "+(s.guilds||0)+"\nServers you're in:\n"+(t.calcGuilds(s.id).map((function(t){return"- "+t.name+"\n"}))||"None")}},["connecting"===s.status||"handshaking"===s.status?a("p",{staticClass:"shard-connecting"},[t._v(t._s(s.id))]):t._e(),"disconnected"===s.status?a("p",{staticClass:"shard-offline"},[t._v(t._s(s.id))]):t._e(),"ready"===s.status?a("p",[t._v(t._s(s.id))]):t._e()])})),0),a("br"),a("AdSpot",{attrs:{"ad-slot":"status-bottom"}})],1)]):a("Loading")},n=[],r=(a("4160"),a("159b"),a("96cf"),a("1da1")),i=a("5530"),o=a("2f62"),c=(a("47cb"),a("3a5e")),d={name:"home",components:{Loading:c["a"]},data:function(){return{theme:localStorage.getItem("theme")||"dark",hasStats:!1,stats:{arcane:{guilds:0,estimatedTotalUsers:0,shards:[],MAX_SHARDS:0,memory:0,voice:0},patreon:{guilds:0,estimatedTotalUsers:0,shards:[],MAX_SHARDS:0,memory:0,voice:0}},services:[{name:"Image Generation",id:"image"},{name:"Youtube Notifier",id:"youtube"},{name:"Moderation Scheduler",id:"moderation"}],interval:null}},computed:Object(i["a"])({},Object(o["c"])(["userGuilds"])),created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var a,e,n,i,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=function(t){a.services.forEach((function(s){var a=t[s.id];a&&(s.status=a.status,s.latency=a.latency)})),console.log(a.services)},e=function(t,s,e){a.stats[t].MAX_SHARDS=e,a.stats[t].guilds=s.guilds,a.stats[t].estimatedTotalUsers=s.estimatedTotalUsers,a.stats[t].voice=s.voice,a.stats[t].memory=s.memoryUsage.heapUsed/1024/1024,a.stats[t].shards=s.shards.sort((function(t,s){return t.id-s.id}));for(var n=a.stats[t].shards.length,r=0;r<a.stats[t].MAX_SHARDS-n;r++)a.stats[t].shards.push({id:a.stats[t].shards.length,status:"disconnected",latency:"n/a "})},a=t,s.next=5,t.$axios.get("/stats/all");case 5:i=s.sent,i&&(t.hasStats=!0,e("arcane",i.data.arcane,i.data.maxShards.arcane),e("patreon",i.data.patreon,i.data.maxShards.patreon),n(i.data.services)),o=t,t.interval=setInterval(Object(r["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!0!==window.document.hidden){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,o.$axios.get("/stats/all");case 4:s=t.sent,s&&(e("arcane",s.data.arcane,s.data.maxShards.arcane),e("patreon",s.data.patreon,s.data.maxShards.patreon),n(s.data.services));case 7:case"end":return t.stop()}}),t)}))),3e4);case 10:case"end":return s.stop()}}),s)})))()},beforeDestroy:function(){this.interval&&clearInterval(this.interval)},methods:{calcGuilds:function(t){var s=this,a=this.userGuilds,e=[];return a.forEach((function(a){t===Math.round(+a.id/(1<<22))%s.stats.arcane.MAX_SHARDS&&e.push(a)})),e},cssClass:function(t){return"ready"===t.status?"shard-with-known-guild-ready":"disconnected"===t.status?"shard-with-known-guild-erroring":"shard-with-known-guild-connecting"}}},l=d,u=(a("1158"),a("2877")),h=Object(u["a"])(l,e,n,!1,null,"587f5fe0",null);s["default"]=h.exports},d303:function(t,s,a){}}]);
//# sourceMappingURL=chunk-6e443392.3ebe87cc.js.map