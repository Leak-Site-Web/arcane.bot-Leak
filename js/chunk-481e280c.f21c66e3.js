(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-481e280c"],{"5c8b":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dropdown",class:{"is-active":t.dropDownActive}},[i("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.away,expression:"away"}],staticClass:"dropdown-trigger",on:{click:function(e){t.dropDownActive=!t.dropDownActive}}},[i("button",{staticClass:"button",attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu"}},[i("span",[t._v(t._s(t.internalActive&&t.channels.find((function(e){return e.id===t.internalActive}))?"#"+t.channels.find((function(e){return e.id===t.internalActive})).name:"Choose one"))]),t._m(0)])]),i("div",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu",role:"menu"}},[i("div",{staticClass:"dropdown-content"},[i("a",{staticClass:"dropdown-item",on:{click:function(e){return t.select("none")}}},[t._v(" None ")]),t._l(t.channels.filter((function(t){return[0,5].includes(t.type)})).sort((function(t,e){return e.position+t.position}),0)||[],(function(e,a){return i("a",{key:a,staticClass:"dropdown-item",on:{click:function(e){return t.select(a)}}},[t._v(" #"+t._s(e.name)+" ")])}))],2)])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon is-small"},[i("i",{staticClass:"fas fa-angle-down",attrs:{"aria-hidden":"true"}})])}],s=(i("4de4"),i("caad"),i("c7db")),o={name:"ChannelDropdown",props:["channels","active"],mixins:[s["mixin"]],data:function(){return{dropDownActive:!1,internalActive:null}},mounted:function(){this.internalActive=this.active},methods:{select:function(t){var e="none"!==t?this.channels.filter((function(t){return[0,5].includes(t.type)})).sort((function(t,e){return e.position+t.position}),0)[t]:{id:null};this.internalActive=e.id,this.dropDownActive=!1,this.$emit("internalActive",e.id)},away:function(){this.dropDownActive=!1}}},r=o,c=i("2877"),l=Object(c["a"])(r,a,n,!1,null,null,null);e["a"]=l.exports},"634f":function(t,e,i){"use strict";var a=i("b0b0"),n=i.n(a);n.a},9329:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.data?i("div",{staticClass:"section"},[i("div",{staticClass:"container"},[i("div",{class:!0===t.modalActiveEdit?"modal is-active":"modal"},[i("div",{staticClass:"modal-background"}),i("div",{staticClass:"modal-card"},[i("header",{staticClass:"modal-card-head"},[i("p",{staticClass:"modal-card-title"},[t._v("Edit Youtube Notification")]),i("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(e){return t.close("edit")}}})]),i("section",{staticClass:"modal-card-body"},[2===t.editNotification.step?i("div",[i("label",{staticClass:"label",class:t.editNotification.errors.missingMessage?"has-text-danger":"has-text-grey-light"},[t._v("Message")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editNotification.message,expression:"editNotification.message"}],staticClass:"textarea",attrs:{rows:"3",maxlength:"1500"},domProps:{value:t.editNotification.message},on:{input:function(e){e.target.composing||t.$set(t.editNotification,"message",e.target.value)}}}),i("h1",{staticClass:"subtitle has-text-grey-light is-size-6"},[t._v(t._s(1500-(t.editNotification.message||"").length)+" characters remaining")]),t._m(0),i("label",{staticClass:"label",class:t.editNotification.errors.missingChannel?"has-text-danger":"has-text-grey-light"},[t._v("Channel")]),i("ChannelDropdown",{attrs:{channels:t.data.info.channels,active:t.editNotification.channel},on:{internalActive:t.chooseNewChannelEdit}})],1):t._e()]),i("footer",{staticClass:"modal-card-foot"},[2===t.editNotification.step?i("button",{staticClass:"button is-primary",class:!0===t.editNotification.loading.save?"is-loading":"",on:{click:t.saveEditNotification}},[t._v("Save")]):t._e()])])]),i("div",{class:!0===t.modalActiveNew?"modal is-active":"modal"},[i("div",{staticClass:"modal-background"}),i("div",{staticClass:"modal-card"},[i("header",{staticClass:"modal-card-head"},[i("p",{staticClass:"modal-card-title"},[t._v("Create New Youtube Notification")]),i("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.close}})]),i("section",{staticClass:"modal-card-body"},[1===t.newNotification.step?i("div",[i("label",{staticClass:"label",class:t.newNotification.errors.missingName?"has-text-danger":"has-text-grey-light"},[t._v("Youtube Channel")]),t.newNotification.errors.missingName?i("a",{staticClass:"label has-text-grey-light",attrs:{href:"https://www.youtube.com/channel/UC9ZAOrKcPQnWmugXqTv0hUA",target:"_blank"}},[t._v("Arcane requires only the youtube channels ID. Find their channel page and paste in what is in blue. An example is provided: https://www.youtube.com/channel/"),i("span",{staticClass:"has-text-primary"},[t._v("UC9ZAOrKcPQnWmugXqTv0hUA")])]):t._e(),i("input",{directives:[{name:"model",rawName:"v-model",value:t.newNotification.id,expression:"newNotification.id"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.newNotification.id},on:{input:function(e){e.target.composing||t.$set(t.newNotification,"id",e.target.value)}}})]):t._e(),2===t.newNotification.step?i("div",[i("label",{staticClass:"label",class:t.newNotification.errors.missingMessage?"has-text-danger":"has-text-grey-light"},[t._v("Message")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newNotification.message,expression:"newNotification.message"}],staticClass:"textarea",attrs:{rows:"3"},domProps:{value:t.newNotification.message},on:{input:function(e){e.target.composing||t.$set(t.newNotification,"message",e.target.value)}}}),i("h1",{staticClass:"subtitle has-text-grey-light is-size-6"},[t._v(t._s(1500-(t.newNotification.message||"").length)+" characters remaining")]),t._m(1),i("label",{staticClass:"label",class:t.newNotification.errors.missingChannel?"has-text-danger":"has-text-grey-light"},[t._v("Channel")]),i("ChannelDropdown",{attrs:{channels:t.data.info.channels,active:t.newNotification.channel},on:{internalActive:t.chooseNewChannel}})],1):t._e()]),i("footer",{staticClass:"modal-card-foot"},[1===t.newNotification.step?i("button",{staticClass:"button is-primary",class:!0===t.newNotification.loading.lookup?"is-loading":"",on:{click:t.lookupChannel}},[t._v("Next")]):t._e(),2===t.newNotification.step?i("button",{staticClass:"button is-primary",class:!0===t.newNotification.loading.save?"is-loading":"",on:{click:t.saveNewNotification}},[t._v("Create")]):t._e()])])]),i("AdSpot",{attrs:{"ad-slot":"youtube-alerts"}}),i("h1",{staticClass:"title is-size-3 has-text-white"},[t._v(" "+t._s(t.data.info.name)+"'s Dashboard - Youtube Notifications "),i("a",{staticClass:"is-size-6 link",on:{click:function(e){return t.$router.go(-1)}}},[t._v("Go back")])]),t._m(2),i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("div",{staticClass:"box"},[0===t.data.config.premium.type&&2===t.data.config.alerts.length?i("button",{staticClass:"button is-primary",on:{click:t.showPopup}},[t._v("New Notification")]):t._e(),t.data.config.premium.type>0&&t.data.config.alerts.length>5?i("button",{staticClass:"button is-primary",attrs:{disabled:""}},[t._v("New Notification")]):i("button",{staticClass:"button is-primary",on:{click:function(e){t.modalActiveNew=!0}}},[t._v("New Notification")]),i("div",{staticClass:"table-container"},[i("table",{staticClass:"table"},[t._m(3),i("tbody",t._l(t.data.config.alerts,(function(e){return i("tr",{key:e.channel.id,staticClass:"has-text-white"},[i("td",[t._v(t._s(e.channel.id))]),i("td",[i("button",{staticClass:"button is-info",on:{click:function(i){return t.editNotificationTHING(e)}}},[t._v("Edit")]),i("button",{staticClass:"button is-danger",on:{click:function(i){return t.deleteNotification(e.channel.id)}}},[t._v("Remove")])])])})),0)])])])])]),i("AdSpot",{attrs:{"ad-slot":"youtube-alerts-bottom"}})],1)]):i("Loading")},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("span",{staticClass:"has-text-weight-bold has-text-white"},[t._v("Tags: ")]),i("span",{staticClass:"has-text-weight-bold has-text-primary"},[t._v("{video.url} {video.title}, {video.author}")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("span",{staticClass:"has-text-weight-bold has-text-white"},[t._v("Tags: ")]),i("span",{staticClass:"has-text-weight-bold has-text-primary"},[t._v("{video.url} {video.title}, {video.author}")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"notification is-danger"},[i("h1",{staticClass:"title has-text-white is-size-5"},[t._v("Important Notice")]),i("h1",{staticClass:"subtitle has-text-white is-size-6"},[t._v("Arcane can take 5 minutes to over an hour to post youtube notifications, or never at all. There is nothing we can do about how long it takes, or if it fails. You just have to be patient and wait. It may eventually get posted to your server.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("th",{staticClass:"has-text-white"},[t._v("Youtube Channel")]),i("th")])}],s=(i("7db0"),i("c975"),i("a434"),i("5530")),o=(i("96cf"),i("1da1")),r=i("2f62"),c=(i("bc3a"),i("3a5e")),l=i("5c8b"),d={components:{Loading:c["a"],ChannelDropdown:l["a"]},data:function(){return{loading:!0,data:null,modalActiveNew:!1,modalActiveEdit:!1,newNotification:{step:1,loading:{lookup:!1,save:!1},errors:{missingName:!1,missingMessage:!1,missingChannel:!1},id:null,channel:null,message:"{video.url} was just uploaded. Check it out!"},editNotification:{step:1,loading:{lookup:!1,save:!1},errors:{missingName:!1,missingMessage:!1,missingChannel:!1},id:null,channel:null,message:null}}},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/guilds/".concat(t.$route.params.id,"/modules/alerts?site=youtube"));case 3:if(i=e.sent,409!==i.status){e.next=8;break}return e.abrupt("return",t.$router.push("/dashboard/".concat(t.$route.params.id)));case 8:if(!i.data.error){e.next=10;break}return e.abrupt("return",t.$router.push("/dashboard"));case 10:t.data=i.data,e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),t.$router.push("/dashboard");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},methods:Object(s["a"])(Object(s["a"])({},Object(r["d"])(["showPopup"])),{},{lookupChannel:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.newNotification.loading.lookup=!0,t.newNotification.id&&0!==t.newNotification.length){e.next=4;break}return t.newNotification.errors.missingName=!0,e.abrupt("return",t.newNotification.loading.lookup=!1);case 4:if(!t.data.config.alerts.find((function(e){return e.channel.id===t.newNotification.id}))){e.next=8;break}return t.newNotification.errors.missingName=!0,e.abrupt("return",t.newNotification.loading.lookup=!1);case 8:return e.next=11,t.$axios.post("/guilds/".concat(t.$route.params.id,"/modules/alerts/search"),{site:"youtube",channel:t.newNotification.id});case 11:if(i=e.sent,null!==i.data.channel){e.next=17;break}return t.newNotification.loading.lookup=!1,e.abrupt("return",t.newNotification.errors.missingName=!0);case 17:t.newNotification.errors.missingName=!1;case 18:t.newNotification.step=2,t.newNotification.loading.lookup=!1;case 20:case"end":return e.stop()}}),e)})))()},saveNewNotification:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.newNotification.loading.save=!0,t.newNotification.message?t.newNotification.errors.missingMessage=!1:t.newNotification.errors.missingMessage=!0,t.newNotification.channel?t.newNotification.errors.missingChannel=!1:t.newNotification.errors.missingChannel=!0,t.newNotification.channel&&t.newNotification.message){e.next=5;break}return e.abrupt("return",t.newNotification.loading.save=!1);case 5:return i={id:t.newNotification.id,message:t.newNotification.message,channel:t.newNotification.channel,type:"youtube"},e.next=8,t.$axios.post("/guilds/".concat(t.$route.params.id,"/modules/alerts/"),{do:"new",channel:i});case 8:a=e.sent,t.newNotification.loading.save=!1,t.modalActiveNew=!1,t.newNotification.message="{video.url} was just uploaded. Check it out!",t.newNotification.id=null,t.newNotification.channel=null,t.newNotification.step=1,t.data.config.alerts.push(a.data.updated);case 16:case"end":return e.stop()}}),e)})))()},saveEditNotification:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.newNotification.loading.save=!0,t.editNotification.message?t.editNotification.errors.missingMessage=!1:t.editNotification.errors.missingMessage=!0,t.editNotification.channel?t.editNotification.errors.missingChannel=!1:t.editNotification.errors.missingChannel=!0,t.editNotification.channel&&t.editNotification.message){e.next=5;break}return e.abrupt("return",t.editNotification.loading.save=!1);case 5:return i={id:t.editNotification.id,message:t.editNotification.message,channel:t.editNotification.channel,type:"youtube"},e.next=8,t.$axios.post("/guilds/".concat(t.$route.params.id,"/modules/alerts/"),{do:"edit",channel:i});case 8:e.sent,t.editNotification.loading.save=!1,t.modalActiveEdit=!1;case 11:case"end":return e.stop()}}),e)})))()},deleteNotification:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a={id:t,type:"youtube"},i.next=3,e.$axios.post("/guilds/".concat(e.$route.params.id,"/modules/alerts/"),{do:"del",channel:a});case 3:i.sent,e.data.config.alerts.splice(e.data.config.alerts.indexOf(e.data.config.alerts.find((function(e){return e.channel.id===t}))),1);case 5:case"end":return i.stop()}}),i)})))()},editNotificationTHING:function(t){this.editNotification={step:2,loading:{lookup:!1,save:!1},errors:{missingName:!1,missingMessage:!1,missingChannel:!1},id:t.channel.id,channel:t.to.id,message:t.response},this.modalActiveEdit=!0},chooseNewChannel:function(t){this.newNotification.channel=t},chooseNewChannelEdit:function(t){this.editNotification.channel=t},close:function(t){this.modalActiveNew=!1,this.modalActiveEdit=!1,t?this.editNotification={step:1,loading:{lookup:!1,save:!1},errors:{missingName:!1,missingMessage:!1,missingChannel:!1},id:null,channel:null,message:null}:this.newNotification={step:2,loading:{lookup:!1,save:!1},errors:{missingName:!1,missingMessage:!1,missingChannel:!1},id:null,channel:null,message:null}}})},u=d,h=(i("634f"),i("2877")),f=Object(h["a"])(u,a,n,!1,null,"37b0fb13",null);e["default"]=f.exports},b0b0:function(t,e,i){}}]);
//# sourceMappingURL=chunk-481e280c.f21c66e3.js.map